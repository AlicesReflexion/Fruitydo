{% extends 'base.html' %}
{% block title %}Encryption{% endblock %}
{% block content %}
{% if user.is_authenticated %}
<div class="textblock">
        <h1>Encryption Settings</h1>
        {% if user.userpreference.encryption == False and request.method != "POST" %}
        <p>Encryption is a very strong form of accoutn protection that makes it impossible for ANYONE,
        including hackers, governments, or even the site's admin, to access your 
        tasks without your encryption password.</p>
        <p>However, this does come with several caveats:
        <ul>
                <li>You must have a separate encryption password that is different from your account password.</li>
                <li>If you lose your encryption password, you are locked out of your account completely.</li>
                <li>If you lose your encryption password, it is impossible to recover or change it.</li>
                <li>You may have to wait a while to encrypt all your tasks, depending on how many you have.</li>
                <li>Encryption is done on your computer, not by Fruitydo. There's more potential for things to go wrong,
                and if they do, it's impossible for Fruitydo to fix them.</li>
        </ul></p>
        <p>If you enable encryption, you can still change your mind later and turn it off, as long as you still have
        your encryption password. You can also change your encryption password later as long as you still have your old
        one.</p>
        <p>If you're still sure you want to do this, type your password below and click continue.</p>
        <form method="post" action="{% url 'userprefs:crypto_settings' %}">
                {% csrf_token %}
                <input type="password" name="password" placeholder="Password">
                <input type="submit" value="I understand and want to continue">
        </form>
        {% elif user.userpreference.encryption == False and request.method == "POST" %}
        <h2>Choose an encryption password</h2>
        <input type="password" name="encpass" placeholder="Encryption Password">
        <input type="password" name ="encpass2" placeholder="Confirm Encryption Password">
        <input type="button" value="Enable Encryption">
        {% elif user.userpreference.encryption == True %}
        <h2>Change Encryption Password</h2>
        <h2>Disable Encryption</h2>
        {% endif %}
</div>
{% endif %}
{% endblock %}
